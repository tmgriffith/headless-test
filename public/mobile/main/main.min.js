function dialogue(a,b,c){var d=$("<div/>");d.addClass("white-popup"),d.append($("<div/>").addClass("ic-modal-title").text(b));for(var e=$("<div/>").addClass("ic-modal-content"),f=0;f<a.length;f++)e.append(a.get(f));e.find(":button").addClass("mfp-close").addClass("mfp-close-ok"),d.append(e),$.magnificPopup.open({closeOnContentClick:!1,items:{src:d,type:"inline"},callbacks:{close:function(){jumpToAnchor(c)}}},0)}function jumpToAnchor(a){a&&$(document).scrollTop($(a).offset().top)}function Alert(a,b){var a=$("<p />",{html:a}),c=$("<button />",{text:"Ok",class:"full"});dialogue(a.add(c),"Alert!",b)}function Prompt(a,b,c,d){var e=$("<p />",{text:a}),f=$("<input />",{val:b}),g=$("<button />",{text:"Ok",click:function(){c(f.val())}}),h=$("<button />",{text:"Cancel",click:function(){c(null)}});dialogue(e.add(f).add(g).add(h),"Attention!",d)}function Confirm(a,b,c){var d=$("<p />",{text:a}),e=$("<button />",{text:"Ok",click:function(){b(!0)}}),f=$("<button />",{text:"Cancel",click:function(){b(!1)}});dialogue(d.add(e).add(f),"Do you agree?",c)}function Question(a,b,c){var d=$("<p />",{html:a}),e=$("<button />",{text:"Yes",click:function(){b(!0)}}),f=$("<button />",{text:"No",click:function(){b(!1)}});dialogue(d.add($("<div />")).append(e).append(f),"Please Review",c)}function answerQuestion(a){a?($("#cc_number").val(""),$('#cc_month option[value=""]').prop("selected",!0),$('#cc_year option[value=""]').prop("selected",!0),$("#cc_cvv").val("")):window.location=window.answerLink}function getStates(a,b,c,d){if(a&&b){var c=$.inArray(c,window.countries)!=-1&&c,d=$.inArray(c,window.countries)!=-1&&d,e=$("#"+b+"StateLabel",a),f=$("#"+b+"ZipLabel",a),g=$("select[name="+b+"State]",a),h=$("input[name="+b+"State]",a);c&&$("select[name="+b+"Country] option[value="+c+"]").attr("selected","selected");var i=$("select[name="+b+"Country]",a);$.ajax({url:"ajax/states.php",data:{country:i.val()},dataType:"json",success:function(a){if(a.complete){e.html(a.stateLabel),f.html(a.zipLabel),g.empty(),$.each(a.states,function(a,b){g.append($("<option></option>").attr("value",a).text(b))}),d&&$("select[name="+b+"State] option[value="+d+"]").attr("selected","selected");var c=$("select[name="+b+"State]").has("[selected]");0==c.length&&$("select[name="+b+"State] option:first-child").attr("selected","selected"),a.disabled?(g.attr("disabled","disabled").addClass("hidden"),h.removeAttr("disabled").removeClass("hidden")):(g.removeAttr("disabled").removeClass("hidden"),h.attr("disabled","disabled").addClass("hidden"))}}})}else Alert("Field not specified for states")}function validateEmail(a){var b=/^[a-zA-Z0-9]+[a-zA-Z0-9_.-]+[a-zA-Z0-9_-]+@[a-zA-Z0-9]+[a-zA-Z0-9.-]+[a-zA-Z0-9]+.[a-z]{2,4}$/;return!!b.test(a)}function validateString(a,b){return!!a&&!(a.length<b)}function validatePhone(a){var c=/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/,d=/^[a-zA-Z0-9\-().\s]{10,15}$/,e=/^((\+\d{1,3}(-| )?\(?\d\)?(-| )?\d{1,5})|(\(?\d{2,6}\)?))(-| )?(\d{3,4})(-| )?(\d{4})(( x| ext)\d{1,5}){0,1}$/;return!!c.test(a.replace(/[\s()+\-\.]|ext/gi,""))||(!!d.test(a.replace(/[\s()+\-\.]|ext/gi,""))||!!e.test(a.replace(/[\s()+\-\.]|ext/gi,"")))}function validateName(){return name.val().length<4?(name.addClass("error"),nameInfo.text("We want names with more than 3 letters!"),nameInfo.addClass("error"),!1):(name.removeClass("error"),nameInfo.text("What's your name?"),nameInfo.removeClass("error"),!0)}function validateMessage(){return message.val().length<10?(message.addClass("error"),!1):(message.removeClass("error"),!0)}function numericOnly(){$(".numeric").keyup(function(a){var b=$(this).val();/\D/g.test(b)&&(b=b.replace(/\D/g,"")),$(this).val(b)})}function decimalOnly(a){var b=$("input[name="+a+"]").val();b=parseFloat(b),$("input[name="+a+"]").val(parseInt(b))}function modalOnClick(){$(".modalClick").each(function(){var b=($(this).attr("href"),$(this).attr("target"));"iframe"==b?$(this).magnificPopup({closeOnContentClick:!1,disableOn:700,type:"iframe",mainClass:"mfp-fade",removalDelay:160,preloader:!0,fixedContentPos:!0,fixedBgPos:!0}):$(this).magnificPopup({closeOnContentClick:!1,fixedContentPos:!0,fixedBgPos:!0,type:"ajax",ajax:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},callbacks:{parseAjax:function(a){a.data=$(a.data).closest(".content")},ajaxContentAdded:function(){modalOnClick()}}})}).click(function(a){a.preventDefault()})}function addCoupon(a){$.ajax({url:"ajax/cart.php",data:{coupon:a,action:"add_coupon"},dataType:"json",beforeSend:function(){$("#price_area").html("Loading ... ")},success:function(a){refreshTotals(),a.complete||Alert(a.msg)}})}function refreshTotals(){$.ajax({url:"ajax/cart.php",data:{action:"totals"},dataType:"json",success:function(a){a.complete&&(console.log(a),$("#price_area").html(a.totals),1==a.info.coupon_status&&($("#dynamic_product_price_XX").val(a.info.unitprice),$("#dynamic_product_price_XX").attr("name","dynamic_product_price_"+a.info.prodID)))}})}function cartItemAdd(a,b,c,d){$.ajax({url:"ajax/cart.php",data:{item:a,itemQty:b,itemPrice:c,itemShipping:d,action:"add_item"},dataType:"json",beforeSend:function(){$("#price_area").html("Loading ... ")},success:function(a){refreshTotals()}})}function isEmpty(a){return void 0===a||null==a||a.length<=0}function showLoading(){window.internalLink=!0,window.formSubmitted=!0,$.magnificPopup.open({closeOnContentClick:!1,closeOnBgClick:!1,showCloseBtn:!1,enableEscapeKey:!1,items:{src:"#ic-loading",type:"inline"}})}function showExitPopup(){window.internalLink=!0,window.formSubmitted=!0,$.magnificPopup.open({closeOnContentClick:!1,closeOnBgClick:!1,showCloseBtn:!1,enableEscapeKey:!1,items:{src:"#ic-exitpop",type:"inline"}})}